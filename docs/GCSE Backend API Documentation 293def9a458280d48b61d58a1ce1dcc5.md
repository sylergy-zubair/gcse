# GCSE Backend API Documentation

## Collection Variables

The following variables are defined at the collection level. Set these in your Postman environment or in the collection variables before testing endpoints:

- **AUTH_BASE_URL**
- **AI_MARKING_FEEDBACK**
- **ANSWER_HINT**
- **EXAM_BOARD**
- **EXAM_SESSION**
- **EXAM_PAPER_QUES**
- **EXAM_PAPER_ANSWER**
- **EXAM_PAPER**
- **QUES_BASE_URL**
- **SUBJECTS**
- **SUBMISSION**
- **SUBSCRIPTION**
- **SUBS_PLAN**
- **USER_BASE_URL**

---

## Table of Contents

---

## Getting Started

To interact with the GCSE APIs using **Postman**:

1. **Create an account** on the GCSE platform using the `/auth/register` or `/auth/login` endpoint.
2. Upon successful registration or login, the backend will return an **authentication token** (JWT).
3. In Postman, go to the **Authorization** tab → choose **Bearer Token** → paste your token there.
    - Alternatively, you can manually set it in the **Headers**:
    
    ```makefile
    Key: Authorization
    Value: Bearer <your_token_here>
    ```
    
4. Once authenticated, you can access all other secured endpoints (e.g. `/exam_paper_answer`, `/submission/create`, `/marking_feedback/...`).

## Authentication

[https://youtu.be/ukXeGMu6BU0](https://youtu.be/ukXeGMu6BU0)

### 1. POST Signup a user

- **Method:** POST
- **URL:** `AUTH_BASE_URL/auth/signup`
- **Purpose:** Register a new user.
- **How to Test:**
    1. Set `AUTH_BASE_URL` variable.
    2. In Postman, select this request from Auth folder.
    3. Fill the request body with user details (e.g., email, password).
    4. Send the request and check for a successful response.

### 2. POST Login a user

- **Method:** POST
- **URL:** `AUTH_BASE_URL/auth/login`
- **Purpose:** Authenticate a user and retrieve a token.
- **How to Test:**
    1. Set `AUTH_BASE_URL`.
    2. Provide login credentials in the request body.
    3. Send the request; the response should include an **authentication** token.

### 3. GET current user

- **Method:** GET
- **URL:** `AUTH_BASE_URL/auth/me`
- **Purpose:** Retrieve details of the currently authenticated user.
- **How to Test:**
    1. Set `AUTH_BASE_URL`.
    2. Ensure you are authenticated (token in headers).
    3. Send the request to get user info.

---

## AI Marking Feedback

### 1. GET specific feedback

- **Method:** GET
- **URL:** `AI_MARKING_FEEDBACK/marking_feedback/1`
- **Purpose:** Retrieve marking feedback for a specific ID.
- **How to Test:**
    1. Set `AI_MARKING_FEEDBACK`.
    2. Replace `1` with the desired feedback ID if needed.
    3. Send the request.

### 2. POST a marking feedback

- **Method:** POST
- **URL:** `AI_MARKING_FEEDBACK/marking_feedback`
- **Purpose:** Submit new marking feedback.
- **How to Test:**
    1. Set `AI_MARKING_FEEDBACK`.
    2. Provide feedback data in the request body.
    3. Send the request.

---

## Answer Hints

**Folder Description:**

API Endpoints that handle Answer Hints sent by AI or generated by an Admin.

### Workflow:

1. Look up by question ID.
2. If hint exists, GET it.
3. Else, generate via AI backend and store.

### 1. POST Answer Hints

- **Method:** POST
- **URL:** `ANSWER_HINT/answer_hint`
- **Purpose:** Create a new answer hint for a question.
- **How to Test:**
    1. Set `ANSWER_HINT`.
    2. Provide question ID and hint data in the body.
    3. Send the request.

### 2. GET a Questions Hint

- **Method:** GET
- **URL:** `ANSWER_HINT/answer_hint/5`
- **Purpose:** Retrieve the answer hint for question ID 5.
- **How to Test:**
    1. Set `ANSWER_HINT`.
    2. Replace `5` with the desired question ID.
    3. Send the request.

---

## Boards

### 1. GET All Exam Boards

- **Method:** GET
- **URL:** `EXAM_BOARD/exam_board`
- **Purpose:** List all exam boards.
- **How to Test:**
    1. Set `EXAM_BOARD`.
    2. Send the request.

---

## Exam Paper

### 1. GET All Exam Papers

- **Method:** GET
- **URL:** `EXAM_PAPER/exam_paper`
- **Purpose:** Retrieve all exam papers.
- **How to Test:**
    1. Set `EXAM_PAPER`.
    2. Send the request.

### 2. Get An Exam Paper

- **Method:** GET
- **URL:** `EXAM_PAPER/exam_paper/1`
- **Purpose:** Retrieve details for exam paper ID 1.
- **How to Test:**
    1. Set `EXAM_PAPER`.
    2. Replace `1` with the desired exam paper ID.
    3. Send the request.

### 3. POST An Exam Paper

- **Method:** POST
- **URL:** `EXAM_PAPER/exam_paper`
- **Purpose:** Create a new exam paper.
- **How to Test:**
    1. Set `EXAM_PAPER`.
    2. Provide exam paper data in the body.
    3. Send the request.

---

## Exam Paper Answer

### 1. GET All Exam Paper Answers

- **Method:** GET
- **URL:** `EXAM_PAPER_ANSWER/exam_paper_answer`
- **Purpose:** List all exam paper answers.
- **How to Test:**
    1. Set `EXAM_PAPER_ANSWER`.
    2. Send the request.

### 2. POST An Exam Paper Answer

- **Method:** POST
- **URL:** `EXAM_PAPER_ANSWER/exam_paper_answer`
- **Purpose:** Submit an answer for an exam paper.
- **How to Test:**
    1. Set `EXAM_PAPER_ANSWER`.
    2. Provide answer data in the body.
    3. Send the request.

---

## Exam Paper Question

### 1. POST An Exam Paper Question

- **Method:** POST
- **URL:** `EXAM_PAPER_QUES/exam_paper_question`
- **Purpose:** Add a question to an exam paper.
- **How to Test:**
    1. Set `EXAM_PAPER_QUES`.
    2. Provide question and exam paper IDs in the body.
    3. Send the request.

### 2. DELETE a Question from Exam

- **Method:** DELETE
- **URL:** `EXAM_PAPER_QUES/exam_paper_question/`
- **Purpose:** Remove a question from an exam paper.
- **How to Test:**
    1. Set `EXAM_PAPER_QUES`.
    2. Specify which question to delete (likely via query/body).
    3. Send the request.

---

## Exam Session

### 1. POST An Exam Session

- **Method:** POST
- **URL:** `EXAM_SESSION/exam_session`
- **Purpose:** Create a new exam session.
- **How to Test:**
    1. Set `EXAM_SESSION`.
    2. Provide session data in the body.
    3. Send the request.

### 2. PATCH An Exam Session

- **Method:** PATCH
- **URL:** `EXAM_SESSION/exam_session/4`
- **Purpose:** Update exam session with ID 4.
- **How to Test:**
    1. Set `EXAM_SESSION`.
    2. Replace `4` with the session ID.
    3. Provide update data in the body.
    4. Send the request.

### 3. GET An Exam Session

- **Method:** GET
- **URL:** `EXAM_SESSION/exam_session/4`
- **Purpose:** Retrieve details for exam session ID 4.
- **How to Test:**
    1. Set `EXAM_SESSION`.
    2. Replace `4` with the session ID.
    3. Send the request.

---

## Question

### 1. GET All Questions

- **Method:** GET
- **URL:** `QUES_BASE_URL/question`
- **Purpose:** List all questions.
- **How to Test:**
    1. Set `QUES_BASE_URL`.
    2. Send the request.

### 2. GET A Question

- **Method:** GET
- **URL:** `QUES_BASE_URL/question/5`
- **Purpose:** Retrieve details for question ID 5.
- **How to Test:**
    1. Set `QUES_BASE_URL`.
    2. Replace `5` with the question ID.
    3. Send the request.

### 3. POST a Question

- **Method:** POST
- **URL:** `QUES_BASE_URL/question`
- **Purpose:** Create a new question.
- **How to Test:**
    1. Set `QUES_BASE_URL`.
    2. Provide question data in the body.
    3. Send the request.

### 4. UPDATE A Question

- **Method:** PUT
- **URL:** `QUES_BASE_URL/question/5`
- **Purpose:** Update question with ID 5.
- **How to Test:**
    1. Set `QUES_BASE_URL`.
    2. Replace `5` with the question ID.
    3. Provide update data in the body.
    4. Send the request.

---

## Subjects

### 1. GET All Subjects

- **Method:** GET
- **URL:** `SUBJECTS/subject`
- **Purpose:** List all subjects.
- **How to Test:**
    1. Set `SUBJECTS`.
    2. Send the request.

### 2. GET A Subject

- **Method:** GET
- **URL:** `SUBJECTS/subject/3`
- **Purpose:** Retrieve details for subject ID 3.
- **How to Test:**
    1. Set `SUBJECTS`.
    2. Replace `3` with the subject ID.
    3. Send the request.

### 3. POST a Subject

- **Method:** POST
- **URL:** `SUBJECTS/subject`
- **Purpose:** Create a new subject.
- **How to Test:**
    1. Set `SUBJECTS`.
    2. Provide subject data in the body.
    3. Send the request.

### 4. UPDATE a Subject

- **Method:** PUT
- **URL:** `SUBJECTS/subject/3`
- **Purpose:** Update subject with ID 3.
- **How to Test:**
    1. Set `SUBJECTS`.
    2. Replace `3` with the subject ID.
    3. Provide update data in the body.
    4. Send the request.

---

## Submission

### 1. GET All Submissions

- **Method:** GET
- **URL:** `SUBMISSION/submission`
- **Purpose:** List all submissions.
- **How to Test:**
    1. Set `SUBMISSION`.
    2. Send the request.

### 2. GET A Submission

- **Method:** GET
- **URL:** `SUBMISSION/submission/2`
- **Purpose:** Retrieve submission with ID 2.
- **How to Test:**
    1. Set `SUBMISSION`.
    2. Replace `2` with the submission ID.
    3. Send the request.

### 3. POST A Submission

- **Method:** POST
- **URL:** `SUBMISSION/submission`
- **Purpose:** Create a new submission.
- **How to Test:**
    1. Set `SUBMISSION`.
    2. Provide submission data in the body.
    3. Send the request.

---

## Subscriptions

### 1. GET All Subscriptions

- **Method:** GET
- **URL:** `SUBSCRIPTION/subscription`
- **Purpose:** List all subscriptions.
- **How to Test:**
    1. Set `SUBSCRIPTION`.
    2. Send the request.

### 2. POST A Subscription

- **Method:** POST
- **URL:** `SUBSCRIPTION/subscription`
- **Purpose:** Create a new subscription.
- **How to Test:**
    1. Set `SUBSCRIPTION`.
    2. Provide subscription data in the body.
    3. Send the request.

### 3. GET A Subscription

- **Method:** GET
- **URL:** `SUBSCRIPTION/subscription/2`
- **Purpose:** Retrieve subscription with ID 2.
- **How to Test:**
    1. Set `SUBSCRIPTION`.
    2. Replace `2` with the subscription ID.
    3. Send the request.

---

## Subscription Plan

### 1. GET All Subscription plans

- **Method:** GET
- **URL:** `SUBS_PLAN/subscription_plan`
- **Purpose:** List all subscription plans.
- **How to Test:**
    1. Set `SUBS_PLAN`.
    2. Send the request.

### 2. GET A Subscription Plan

- **Method:** GET
- **URL:** `SUBS_PLAN/subscription_plan/3`
- **Purpose:** Retrieve subscription plan with ID 3.
- **How to Test:**
    1. Set `SUBS_PLAN`.
    2. Replace `3` with the plan ID.
    3. Send the request.

### 3. POST A Subscription Plan

- **Method:** POST
- **URL:** `SUBS_PLAN/subscription_plan`
- **Purpose:** Create a new subscription plan.
- **How to Test:**
    1. Set `SUBS_PLAN`.
    2. Provide plan data in the body.
    3. Send the request.

### 4. UPDATE A Plan

- **Method:** PATCH
- **URL:** `SUBS_PLAN/subscription_plan/1`
- **Purpose:** Update subscription plan with ID 1.
- **How to Test:**
    1. Set `SUBS_PLAN`.
    2. Replace `1` with the plan ID.
    3. Provide update data in the body.
    4. Send the request.

---

## User

### 1. GET Users specific Exam Session

- **Method:** GET
- **URL:** `USER_BASE_URL/user/exam_sesion/13`
- **Purpose:** Retrieve a user's specific exam session.
- **How to Test:**
    1. Set `USER_BASE_URL`.
    2. Replace `13` with the user/session ID.
    3. Send the request.

### 2. UPDATE User's Password

- **Method:** PATCH
- **URL:** `USER_BASE_URL/user/password/13`
- **Purpose:** Update password for user ID 13.
- **How to Test:**
    1. Set `USER_BASE_URL`.
    2. Replace `13` with the user ID.
    3. Provide new password in the body.
    4. Send the request.

### 3. UPDATE User role

- **Method:** PATCH
- **URL:** `USER_BASE_URL/user/role/13`
- **Purpose:** Update role for user ID 13.
- **How to Test:**
    1. Set `USER_BASE_URL`.
    2. Replace `13` with the user ID.
    3. Provide new role data in the body.
    4. Send the request.

### 4. GET User Submissions

- **Method:** GET
- **URL:** `USER_BASE_URL/user/submissions/11`
- **Purpose:** Retrieve submissions for user ID 11.
- **How to Test:**
    1. Set `USER_BASE_URL`.
    2. Replace `11` with the user ID.
    3. Send the request.

### 5. GET Users Exam Paper Answers

- **Method:** GET
- **URL:** `USER_BASE_URL/exam_paper_answer?user_id=19`
- **Purpose:** Retrieve exam paper answers for user ID 19.
- **How to Test:**
    1. Set `USER_BASE_URL`.
    2. Replace `19` with the user ID as a query parameter.
    3. Send the request.

---

## Example Request/Response

For most endpoints, you can view or generate example requests/responses in Postman by:

- Sending the request and viewing the response.
- Saving the response as an example for future reference.

---

## General Testing Steps in Postman

1. **Set Collection Variables:**
    - Go to the collection, click "Variables", and set the values for all required variables.
2. **Select the Request:**
    - Navigate to the desired folder and request.
3. **Configure Request Body/Params:**
    - If the request requires a body or parameters, fill them in as needed.
4. **Set Authentication:**
    - If authentication is required, ensure the token or credentials are set (usually in headers or via Postman's Auth tab).
5. **Send the Request:**
    - Click "Send" and observe the response.
6. **Save Examples:**
    - After receiving a response, click "Save Response" to store it as an example.

---

## Links

- [GCSE Backend API Collection](collection/49444228-e1c7c748-0483-4cc6-abef-958612c57ec3)

---

**Note:**

For detailed request/response payloads, refer to the saved examples in the collection or send the requests in Postman to view live responses.